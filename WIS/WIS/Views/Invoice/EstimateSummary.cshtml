@model WISModels.EstimateModel
@{
    ViewBag.Title = "Estimate Summary";

}
<br /><br /><br />
<div class="row">
    <div class="col-md-6">
        <strong>
            <span>
                Hoar Construction Warehouse<br />
                550 Belview Street<br />
                Bessemer AL 35020<br />
                United States
            </span>
        </strong>
    </div>
    <div class="col-md-6">
        <img src="~/Content/img/HOAR_logo.png" class="visible-lg  visible-md pull-right" style="width:50% ;height:50%" />       
    </div>
</div>

<div>
    @using (Html.BeginForm("SubmitEstimate", "Invoice", FormMethod.Post, new { @class = "form-horizontal", role = "form", id = "frmDetails1" }))
    {
        @Html.AntiForgeryToken()
        if (Model != null)
        {            
            var Status = Model.Status;
            @Html.HiddenFor(p => p.Estimate)
            if (Model.Estimate > 0)
            {
                var job = Model.InvoiceJobNumber;
                if (job == null)
                {
                    <div id="employee"><strong><label class="col-md-6">Employee:@Model.Employee</label></strong></div>
                }
                else
                {
                    <div id="JobAddress" class="col-md-6">
                        <p>
                            <strong><span><label>JOB @ViewBag.JobDes</label></span></strong><br />
                            <strong><span calss="pull-left"><label>@ViewBag.MailAddress</label></span></strong><br />
                            <strong><span><label>@ViewBag.MailCity   @ViewBag.MailState  @ViewBag.MailZip </label></span></strong><br />
                        </p>
                    </div>
                }

                <div class="row">
                    <div>
                        <b><span><strong>Estimate#  <sapn class="col-md-offset-1"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   @Model.Estimate</sapn></strong></span></b>
                    </div>
                    <div>
                        <b><span><strong>Estimate Date  <span class="col-md-offset-1">@Model.EstimateDate.ToString("MM/dd/yyyy")</span></strong></span></b>
                    </div>
                    <div>
                        <b><span><strong>Estimate Total <span class="col-md-offset-1">$@Model.Total</span> </strong></span></b>
                    </div>
                </div>
            }
            <br />
            <div class="table-responsive">
                <table id="table_id" class="table table-striped">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Description</th>
                            <th>Unit Cost</th>
                            <th>CostCode/GLCode</th>
                            <th>Quantity</th>
                            <th>LineTotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model != null)
                        {
                            foreach (var item in Model.EstimateDetails)
                            {
                                var result = item.EstimateDescription == null;
                                <tr>
                                    <td>@item.ItemInventoryID</td>
                                    @if (result == true)
                                    {
                                        <td>@item.NonInventoryItem</td>
                                    }
                                    else
                                    {
                                        <td>@item.EstimateDescription</td>
                                    }
                                    <td>@item.ItemInventoryCost</td>
                                    <td>@item.EstimateDetailCostCodeGL</td>
                                    <td>@item.EstimateDetailQuantity</td>
                                    <td>@item.EstimateDetailLineItemTotal</td>
                                </tr>
                            }
                        }

                    </tbody>
                </table>
            </div>
            <div>
                <b>
                    <span class="col-md-offset-9">
                        <strong>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Model.Total
                        </strong>
                    </span>
                </b>
                <b>
                    <span class="col-md-offset-9">
                        <strong>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Amount Paid  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;0.00
                        </strong>
                    </span>
                </b>
                <br />
                <div class="container">
                    <div class="col-md-8"></div>
                    &nbsp;&nbsp;&nbsp;<div class="col-md-3">
                        <table id="table_id1" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>Balance Due(USD)</th>
                                    <th> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;$@Model.Total</th>
                                </tr>
                            </thead>
                        </table>
                    </div>

                </div>


            </div>
            <br /><br /><br /><br />
            <br /><br /><br /><br /><br /><br />
            <div span class="col-md-offset-1 col-sm-offset-1">
                <div class="row">
                    Terms: <strong>@Model.DefaultValue</strong>
                </div>
                <br /><br />
                <div class="row">
                    Notes:<strong>@Model.EstimateNotes</strong>
                </div>
            </div>
        }
    }
</div>


